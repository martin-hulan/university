"use strict";(self.webpackChunkuniversity=self.webpackChunkuniversity||[]).push([[6817],{4112:(e,t,o)=>{o.d(t,{ZP:()=>a,d$:()=>i});var r=o(5893),n=o(1151);const i=[];function s(e){const t={a:"a",admonition:"admonition",p:"p",...(0,n.a)(),...e.components};return(0,r.jsx)(t.admonition,{title:"Work in progress",type:"warning",children:(0,r.jsxs)(t.p,{children:["We're still working on this part and would love to hear your thoughts! Feel free to ",(0,r.jsx)(t.a,{href:"https://github.com/rossumai/university/discussions",children:"share your feedback"})," or ",(0,r.jsx)(t.a,{href:"https://github.com/rossumai/university/pulls",children:"submit a pull request"}),". Thank you! \ud83d\ude4f"]})})}function a(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}},1383:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>x,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var r=o(5893),n=o(1151),i=o(4112);const s={title:"Export pipelines"},a=void 0,p={id:"learn/export-pipeline/index",title:"Export pipelines",description:"How to export extracted data from Rossum",source:"@site/docs/learn/export-pipeline/index.md",sourceDirName:"learn/export-pipeline",slug:"/learn/export-pipeline/",permalink:"/docs/learn/export-pipeline/",draft:!1,unlisted:!1,editUrl:"https://github.com/rossumai/university/tree/master/docs/learn/export-pipeline/index.md",tags:[],version:"current",frontMatter:{title:"Export pipelines"},sidebar:"learnSidebar",previous:{title:"Automating emails",permalink:"/docs/learn/emails/auto-rejections"},next:{title:"2. Custom format templating",permalink:"/docs/learn/export-pipeline/custom-format-templating"}},l={},d=[...i.d$,{value:"How to export extracted data from Rossum",id:"how-to-export-extracted-data-from-rossum",level:2},{value:"What are the components of the Export pipelines",id:"what-are-the-components-of-the-export-pipelines",level:2},{value:"How to use Export pipelines",id:"how-to-use-export-pipelines",level:2},{value:"Simple SFTP export",id:"simple-sftp-export",level:3},{value:"Simple API export",id:"simple-api-export",level:3},{value:"Complex API export",id:"complex-api-export",level:3},{value:"Proprietary export evaluator",id:"proprietary-export-evaluator",level:3}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.ZP,{}),"\n",(0,r.jsx)(t.h2,{id:"how-to-export-extracted-data-from-rossum",children:"How to export extracted data from Rossum"}),"\n",(0,r.jsx)(t.p,{children:"After you process your documents in Rossum, you need to export extracted data to your downstream system. The Rossum team has prepared an Export pipeline for you. All of Export pipeline is documented in Rossum university."}),"\n",(0,r.jsx)(t.h2,{id:"what-are-the-components-of-the-export-pipelines",children:"What are the components of the Export pipelines"}),"\n",(0,r.jsx)(t.p,{children:"The export pipeline has the following components:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Cleaning mechanism that prepares the pipeline for export. The use is not mandatory, it is very useful for debugging. See Pipeline cleaning page."}),"\n",(0,r.jsxs)(t.li,{children:["Custom format templating, prepares the desired format for an export. See ",(0,r.jsx)(t.a,{href:"/docs/learn/export-pipeline/custom-format-templating",children:"Custom format templating"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Rest API Export, exports the prepared data to REST API and stores the reply. See ",(0,r.jsx)(t.a,{href:"/docs/learn/export-pipeline/rest-api-export",children:"REST API export"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:["Extract data, extracts important data from API reply and stores them in the annotation object, e.g. downstream document ID, HTTP status codes. See ",(0,r.jsx)(t.a,{href:"/docs/learn/export-pipeline/data-value-extractor",children:"Data value extractor"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"Export evaluator, decides whether the export is successful or it has failed. See Export evaluator."}),"\n",(0,r.jsx)(t.li,{children:"SFTP Export, upload the prepared data to SFTP or S3 file storage. See SFTP Export."}),"\n",(0,r.jsx)(t.li,{children:"Workday Export, Workday specific export. See Workday Export."}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"how-to-use-export-pipelines",children:"How to use Export pipelines"}),"\n",(0,r.jsx)(t.p,{children:'The typical use of export pipeline follow. The components are connected by the standard extension chaining mechanism "run-after", see Chaining.'}),"\n",(0,r.jsx)(t.h3,{id:"simple-sftp-export",children:"Simple SFTP export"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Custom format templating prepares extracted data in desired format."}),"\n",(0,r.jsx)(t.li,{children:"SFTP export stores data in on an SFTP (or S3)."}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"simple-api-export",children:"Simple API export"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"optional: Pipeline cleaning cleans previous export data (relevant for debugging)."}),"\n",(0,r.jsx)(t.li,{children:"Custom format templating prepares extracted data in desired format."}),"\n",(0,r.jsx)(t.li,{children:"REST API calls an external API service and sends the prepared data. The extension also stores returned values including status code."}),"\n",(0,r.jsx)(t.li,{children:"Extract data to store needed information in the document (e.g. status code)"}),"\n",(0,r.jsx)(t.li,{children:"Export evaluator that based on condition decides whether the export is succesfful (e.g. status code = 200, 201)."}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"complex-api-export",children:"Complex API export"}),"\n",(0,r.jsx)(t.p,{children:"(Pipeline cleaning ->) Custom format templating -> REST API Export of extracted data -> Extract data to store status code and downstream system ID -> REST API e"}),"\n",(0,r.jsx)(t.h3,{id:"proprietary-export-evaluator",children:"Proprietary export evaluator"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-py",children:'from rossum_python import RossumPython, default_to, substitute\n\ndef rossum_hook_request_handler(payload: dict) -> dict:\n    r = RossumPython.from_payload(payload)\n\n    if eval(payload["settings"]["condition"]):\n        raise Exception("Draft invoice not created.")\n\n    return r.hook_response()\n'})}),"\n",(0,r.jsx)(t.p,{children:"Settings example:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n  "condition": "r.field.api1_status_code != \'201\'"\n}\n'})})]})}function x(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},1151:(e,t,o)=>{o.d(t,{Z:()=>a,a:()=>s});var r=o(7294);const n={},i=r.createContext(n);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);